{"version":3,"sources":["../../src/pages/about/pay/pay.module.ts","../../src/pages/about/pay/pay.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AAChB;AAahC;IAAA;IAA6B,CAAC;IAAjB,aAAa;QAXzB,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,qDAAO;aACR;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,qDAAO,CAAC;aAClC;YACD,OAAO,EAAE;gBACP,qDAAO;aACR;SACF,CAAC;OACW,aAAa,CAAI;IAAD,oBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;ACfgB;AACgB;AACE;AAChC;AAS5B;IAOE,iBAAoB,EAAuB,EACxB,QAAuB;QAC9B,qCAAqC;QAC9B,SAAoB;QAHvC,iBAoBC;QApBmB,OAAE,GAAF,EAAE,CAAqB;QACxB,aAAQ,GAAR,QAAQ,CAAe;QAEvB,cAAS,GAAT,SAAS,CAAW;QARvC,YAAO,GAAG,MAAM,CAAC;QASf,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACxC,IAAI,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAI,IAAI,CAAC,OAAO,SAAI,IAAI,CAAC,OAAO,MAAG,EAAE,aAAG,IAAI,UAAG,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAjD,CAAiD,CAAC,CAAC,YAAY,EAAE,CAAC;QACrI,IAAI,CAAC,SAAS,CAAC,aAAG;YAChB,KAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YACjB,GAAG,CAAC,OAAO,CAAC,aAAG;gBACb,IAAI,GAAG,GAAQ,GAAG,CAAC;gBACnB,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE,CAAC;gBACpB,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,aAAG;oBACrB,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,EAAC,CAAC;oBAC5C,CAAC,EAAE,CAAC;gBACN,CAAC,CAAC;YACJ,CAAC,CAAC;QACJ,CAAC,CAAC;IAEJ,CAAC;IAED,yBAAO,GAAP;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAED,2BAAS,GAAT,UAAU,IAAI;QACZ,4BAA4B;QAC5B,IAAM,IAAI,GAAG,8CAAM,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QACtD,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC,CAAC;YACrB,uBAAuB;YACvB,IAAM,IAAI,GAAG;gBACX,IAAI,EAAE,EAAE;aACT,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,MAAM,CAAI,IAAI,CAAC,OAAO,SAAI,IAAI,CAAC,OAAO,SAAI,IAAI,CAAC,KAAK,iBAAY,IAAI,CAAC,KAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;iBAC/F,KAAK,CAAC,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAAC,CAAC;YACtC,sCAAsC;YACtC,kBAAkB;YAClB,iCAAiC;YACjC,oBAAoB;YACpB,MAAM;YACN,mBAAmB;QACrB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,uBAAuB;YACvB,IAAM,IAAI,GAAG;gBACX,IAAI,EAAE,IAAI;aACX,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,MAAM,CAAI,IAAI,CAAC,OAAO,SAAI,IAAI,CAAC,OAAO,SAAI,IAAI,CAAC,KAAK,iBAAY,IAAI,CAAC,KAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;iBAC/F,KAAK,CAAC,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAAC,CAAC;YACtC,sCAAsC;YACtC,kBAAkB;YAClB,iCAAiC;YACjC,oBAAoB;YACpB,MAAM;YACN,mBAAmB;QACrB,CAAC;IACH,CAAC;IA/DU,OAAO;QAJnB,wEAAS,CAAC;YACT,QAAQ,EAAE,UAAU;WACG;SACxB,CAAC;gBAWuC;OAV5B,OAAO,CAiEnB;IAAD,cAAC;;AAAA;SAjEY,OAAO,e","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PayPage } from './pay';\n\n@NgModule({\n  declarations: [\n    PayPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PayPage),\n  ],\n  exports: [\n    PayPage\n  ]\n})\nexport class PayPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about/pay/pay.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, ViewController, NavParams } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport moment from 'moment';\nimport { Pay } from '../../../models/pay.model';\nimport { Monthly } from '../../../models/monthly.model';\n\n@IonicPage()\n@Component({\n  selector: 'page-pay',\n  templateUrl: 'pay.html'\n})\nexport class PayPage {\n  months: Monthly[];\n  payPath = 'pays';\n  yearPay;\n  payID: string;\n  user: any;\n\n  constructor(private db: AngularFireDatabase,\n              public viewCtrl:ViewController,\n              //private alertCtrl: AlertController,\n              public navParams: NavParams) {\n    this.user = navParams.get('user');\n    this.yearPay = navParams.get('yearPay');\n    let pays = this.db.list(`${this.payPath}/${this.yearPay}/`, ref => ref.orderByChild('userid').equalTo(this.user.uid)).valueChanges();\n    pays.subscribe(res => {\n      this.months = [];\n      res.forEach(rs1 => {\n        let pay: Pay = rs1;\n        this.payID = pay.id;\n        let i = 0;\n        pay.monthly.forEach(rs2 => {\n          this.months.push({index: i, date: rs2.date})\n          i++;\n        })\n      })\n    })\n\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  clickStar(item): void {\n    //console.log('item=', item)\n    const date = moment(new Date()).format('MMM Do YYYY');\n    if (item.date !== '') {\n      //delete payment record\n      const data = {\n        date: ''\n      };\n      this.db.object(`${this.payPath}/${this.yearPay}/${this.payID}/monthly/${item.index}`).update(data)\n        .catch(error => console.log(error));\n      // let alert = this.alertCtrl.create({\n      //   title: 'pay',\n      //   message: 'delete pay date:',\n      //   buttons: ['OK']\n      // });\n      // alert.present();\n    } else {\n      //update payment record\n      const data = {\n        date: date\n      };\n      this.db.object(`${this.payPath}/${this.yearPay}/${this.payID}/monthly/${item.index}`).update(data)\n        .catch(error => console.log(error));\n      // let alert = this.alertCtrl.create({\n      //   title: 'pay',\n      //   message: 'update pay date:',\n      //   buttons: ['OK']\n      // });\n      // alert.present();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about/pay/pay.ts"],"sourceRoot":""}