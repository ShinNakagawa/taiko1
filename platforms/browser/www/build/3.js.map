{"version":3,"sources":["../../src/pages/contact/paylist/paylist.module.ts","../../src/pages/contact/paylist/paylist.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PayListPage } from './paylist';\n\n@NgModule({\n  declarations: [\n    PayListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PayListPage),\n  ],\n  exports: [\n    PayListPage\n  ]\n})\nexport class PayListPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/paylist/paylist.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, ViewController, AlertController, ToastController } from 'ionic-angular';\nimport { Observable } from 'rxjs/Observable';\nimport { AngularFireDatabase } from 'angularfire2/database';\n//import { AuthProvider } from '../../../providers/auth/auth';\n\n@IonicPage()\n@Component({\n  selector: 'page-paylist',\n  templateUrl: 'paylist.html'\n})\nexport class PayListPage {\n  showType: string;\n  pays: Observable<any[]>;\n  months: Array<{month: string,\n                 userid: string,\n                 date: string}>;\n  yearPay = '2018';\n  basePath = 'pays';\n  userid: string;\n\n  constructor(private db: AngularFireDatabase,\n              public viewCtrl:ViewController,\n              private alertCtrl: AlertController,\n              public toastCtrl: ToastController,\n              //private auth: AuthProvider\n            ) {\n                // if (this.auth.currentUser) {       \n                //   console.log('this.auth.currentUser=', this.auth.currentUser);\n                //   console.log('this.auth.currentUserId=', this.auth.currentUserId);\n                //   this.userid = this.auth.currentUserId;\n                //   this.showType = 'you';\n                // } else {\n                  console.log('Unable to read userID, so add timer to wait for user ID');       \n                  let toast = this.toastCtrl.create({\n                    message: 'Please wait for a second.',\n                    duration: 3000,\n                    position: 'top'\n                  });\n                  toast.present();\n                  this.userid = '';\n                  this.showType = 'all';\n                // }\n                this.pays = this.db.list(`${this.basePath}/${this.yearPay}/`).valueChanges();\n                this.months=[];\n                this.months.push({month: 'January', userid: this.userid, date: 'Jan/22/2018'});\n                this.months.push({month: 'February', userid: this.userid, date: 'Feb/1/2018'});\n                this.months.push({month: 'March', userid: this.userid, date: ''});\n                this.months.push({month: 'April', userid: this.userid, date: ''});\n                this.months.push({month: 'May', userid: this.userid, date: ''});\n                this.months.push({month: 'June', userid: this.userid, date: ''});\n                this.months.push({month: 'July', userid: this.userid, date: ''});\n                this.months.push({month: 'August', userid: this.userid, date: ''});\n                this.months.push({month: 'September', userid: this.userid, date: ''});\n                this.months.push({month: 'October', userid: this.userid, date: ''});\n                this.months.push({month: 'November', userid: this.userid, date: ''});\n                this.months.push({month: 'December', userid: this.userid, date: ''});\n  }\n\n  ionViewDidLoad() {\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  clickStar(item): void {\n    if (item.datePay) {\n      // delete payment record\n      const path = `${this.basePath}/${this.yearPay}/${item.id}`;\n      this.db.object(path).remove()\n        .catch(error => console.log(error));\n      let alert = this.alertCtrl.create({\n        title: 'delete',\n        message: 'delete pay date:',\n        buttons: ['OK']\n      });\n      alert.present();\n    } else {\n      //add payment record\n      const path = `${this.basePath}/${this.yearPay}`;\n      const timestamp = new Date();\n      const data = {\n        userid: this.userid,\n        month: item.month,\n        date: timestamp\n      };\n      let key = this.db.list(path).push(data).key;\n      //update id as key\n      const pathKey = `${this.basePath}/${this.yearPay}/${key}`;\n      const dataKey = {\n        id: key\n      };\n      this.db.object(pathKey).update(dataKey)\n        .catch(error => console.log(error));\n      let alert = this.alertCtrl.create({\n        title: 'pay',\n        message: 'add pay date:',\n        buttons: ['OK']\n      });\n      alert.present();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/paylist/paylist.ts"],"sourceRoot":""}