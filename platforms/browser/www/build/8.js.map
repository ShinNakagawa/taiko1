{"version":3,"sources":["../../src/pages/about/pay/pay.module.ts","../../src/pages/about/pay/pay.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AAChB;AAahC;IAAA;IAA6B,CAAC;IAAjB,aAAa;QAXzB,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,qDAAO;aACR;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,qDAAO,CAAC;aAClC;YACD,OAAO,EAAE;gBACP,qDAAO;aACR;SACF,CAAC;OACW,aAAa,CAAI;IAAD,oBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;ACfgB;AACiC;AACf;AAChC;AAS5B;IAOE,iBAAoB,EAAuB,EACxB,QAAuB,EACvB,SAAoB,EACnB,SAA0B;QAH9C,iBAcC;QAdmB,OAAE,GAAF,EAAE,CAAqB;QACxB,aAAQ,GAAR,QAAQ,CAAe;QACvB,cAAS,GAAT,SAAS,CAAW;QACnB,cAAS,GAAT,SAAS,CAAiB;QAT9C,WAAM,GAAc,EAAE,CAAC;QACvB,QAAG,GAAQ,IAAI,CAAC;QAChB,YAAO,GAAG,MAAM,CAAC;QAQf,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACxC,IAAI,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAI,IAAI,CAAC,OAAO,SAAI,IAAI,CAAC,OAAO,MAAG,EAAE,aAAG,IAAI,UAAG,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAjD,CAAiD,CAAC,CAAC,YAAY,EAAE,CAAC;QACrI,IAAI,CAAC,SAAS,CAAC,aAAG;YAChB,GAAG,CAAC,OAAO,CAAC,aAAG;gBACb,KAAI,CAAC,GAAG,GAAG,GAAG,CAAC;gBACf,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,GAAG,CAAC,OAAO,CAAC;YACjC,CAAC,CAAC;QACJ,CAAC,CAAC;IAEJ,CAAC;IAED,yBAAO,GAAP;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAED,2BAAS,GAAT,UAAU,IAAI;QACZ,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC;QAC1B,IAAM,IAAI,GAAG,8CAAM,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QACtD,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC,CAAC;YACrB,uBAAuB;YACvB,IAAM,IAAI,GAAG;gBACX,IAAI,EAAE,EAAE;aACT,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,MAAM,CAAI,IAAI,CAAC,OAAO,SAAI,IAAI,CAAC,OAAO,SAAI,IAAI,CAAC,GAAG,CAAC,EAAE,iBAAY,IAAI,CAAC,KAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;iBAChG,KAAK,CAAC,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAAC,CAAC;YACtC,IAAI,OAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAChC,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,kBAAkB;gBAC3B,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YACH,OAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,uBAAuB;YACvB,IAAM,IAAI,GAAG;gBACX,IAAI,EAAE,IAAI;aACX,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,MAAM,CAAI,IAAI,CAAC,OAAO,SAAI,IAAI,CAAC,OAAO,SAAI,IAAI,CAAC,GAAG,CAAC,EAAE,iBAAY,IAAI,CAAC,KAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;iBAChG,KAAK,CAAC,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAAC,CAAC;YACtC,IAAI,OAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAChC,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,kBAAkB;gBAC3B,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YACH,OAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;IACH,CAAC;IAzDU,OAAO;QAJnB,wEAAS,CAAC;YACT,QAAQ,EAAE,UAAU;WACG;SACxB,CAAC;kFAQ2C;YACf,iEAAc;YACZ,sEAAS;YACR,IAAe;OAVnC,OAAO,CA2DnB;IAAD,CAAC;AAAA;SA3DY,OAAO,e","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PayPage } from './pay';\n\n@NgModule({\n  declarations: [\n    PayPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PayPage),\n  ],\n  exports: [\n    PayPage\n  ]\n})\nexport class PayPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about/pay/pay.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, ViewController, AlertController, NavParams } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport moment from 'moment';\nimport { Pay } from '../../../models/pay.model';\nimport { Monthly } from '../../../models/monthly.model';\n\n@IonicPage()\n@Component({\n  selector: 'page-pay',\n  templateUrl: 'pay.html'\n})\nexport class PayPage {\n  months: Monthly[] = [];\n  pay: Pay = null;\n  payPath = 'pays';\n  user: any;\n  yearPay;\n\n  constructor(private db: AngularFireDatabase,\n              public viewCtrl:ViewController,\n              public navParams: NavParams,\n              private alertCtrl: AlertController) {\n    this.user = navParams.get('user');\n    this.yearPay = navParams.get('yearPay');\n    let pays = this.db.list(`${this.payPath}/${this.yearPay}/`, ref => ref.orderByChild('userid').equalTo(this.user.uid)).valueChanges();\n    pays.subscribe(res => {\n      res.forEach(rs1 => {\n        this.pay = rs1;\n        this.months = this.pay.monthly;\n      })\n    })\n\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  clickStar(item): void {\n    console.log('item=', item)\n    const date = moment(new Date()).format('MMM Do YYYY');\n    if (item.date !== '') {\n      //delete payment record\n      const data = {\n        date: ''\n      };\n      this.db.object(`${this.payPath}/${this.yearPay}/${this.pay.id}/monthly/${item.index}`).update(data)\n        .catch(error => console.log(error));\n      let alert = this.alertCtrl.create({\n        title: 'pay',\n        message: 'delete pay date:',\n        buttons: ['OK']\n      });\n      alert.present();\n    } else {\n      //update payment record\n      const data = {\n        date: date\n      };\n      this.db.object(`${this.payPath}/${this.yearPay}/${this.pay.id}/monthly/${item.index}`).update(data)\n        .catch(error => console.log(error));\n      let alert = this.alertCtrl.create({\n        title: 'pay',\n        message: 'update pay date:',\n        buttons: ['OK']\n      });\n      alert.present();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about/pay/pay.ts"],"sourceRoot":""}